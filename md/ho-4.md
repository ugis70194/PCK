## 本選 4問目 へびの脱皮
### 問題
頭から尾にかけて一列にならんだマル(o)とバツ(x)からなる模様のへびが発見された。  
このへびは脱皮のときに、2つのマルが並んだ部分の間すべてが伸びることで成長する。新たに加わった箇所にはマル、バツ、マルが並んだ模様がつく。  
へびの模様と脱皮の回数が与えられたとき、この回数だけ脱皮した後のへびの長さを求めるプログラムを作成せよ。  
ただし、へびの長さ$L$は$1 \le L \ le 100$、脱皮の回数$N$は$1 \le N \le 50$であるとする。  

### 解法
脱皮の様子は下図のようになる。  
![](./ho-4.png)  
マルがとなりあっている個数を$A$とすると$A$は脱皮の度に2倍になる。すると、
$A_{i+1} = 2A_{i}$という漸化式が成り立つ。この漸化式の一般項は$A_N = A_0(2^N - 1)$で与えられる。  
へびの長さの増加量はその3倍なので$N$回の脱皮で伸びる長さは$3A_N$となる。  
したがって、最初のへびの長さを$L_0$とすれば$N$回脱皮した後のへびの長さ$L_N$は$L_N = L_0 + 3A_0(2^N-1)$となる。
最初にマルがとなりあっている個数を数えるのに$O(L)$時間かかるので、全体の時間計算量オーダーは$O(L)$となる。  
### コード
```cpp
#include<bits/stdc++.h>
using namespace std;
using i64 = long long;

i64 POW(i64 x, i64 n){
    i64 res = 1;
    while(n){
        if(n & 1) res *= x;
        x *= x;
        n >>= 1;
    }
    return res;
}

int main(){
    i64 L, N;
    string snake;
    cin >> L >> N >> snake;

    i64 A = 0;
    for(int i = 1; i < L; i++) {
        if(snake[i-1] == snake[i] && snake[i] == 'o') A++;
    }

    cout << L + 3ll*A*(POW(2, N) - 1ll) << endl;
}
```